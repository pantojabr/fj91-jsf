<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	template="/WEB-INF/_template.xhtml">

	<ui:define name="titulo">Funcionários cadastrados</ui:define>

	<ui:define name="principal">
		<f:view transient="true">
			<h1 class="text-center">Funcionários cadastrados</h1>
			
			<a href="#{request.contextPath}/funcionario-form.xhtml" class="btn btn-primary btn-novo">Novo</a>
			
			<div class="table-responsive mt-2">
				<form jsf:id="form-lista" jsf:prependId="false">
					<h:dataTable class="table table-stripped table-hover" value="#{funcionarioBean.funcionarios}" var="funcionario">
						<h:column>
							<f:facet name="header">ID</f:facet>
							<h:outputText value="#{funcionario.id}" />
						</h:column>
						
						<h:column>
							<f:facet name="header">NOME</f:facet>
							<h:outputText value="#{funcionario.nome}" />
						</h:column>
						
						<h:column>
							<f:facet name="header">CARGO</f:facet>
							<h:outputText value="#{funcionario.cargo.nome}" />
						</h:column>
						
						<h:column>
							<f:facet name="header">SALÁRIO</f:facet>
							<h:outputText value="#{funcionario.salario}" converter="CustomBigDecimalConverter" />
						</h:column>
						
						<h:column>
							<f:facet name="header">ADMITIDO EM</f:facet>
							<h:outputText value="#{funcionario.dataDeAdmissao}" converter="LocalDateConverter" />
						</h:column>
						
						<h:column>
							<f:facet name="header">AÇÕES</f:facet>
							<button jsf:action="#{reajusteBean.listar(funcionario)}" type="submit" class="btn btn-info">Reajustes</button>
							<button jsf:action="#{funcionarioBean.remover(funcionario)}" type="submit" class="btn btn-danger">Remover</button>
						</h:column>
					</h:dataTable>
				</form>
			</div>
		</f:view>
	</ui:define>
</ui:composition>